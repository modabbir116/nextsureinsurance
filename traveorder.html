<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nextsure â€” OMP Travel Insurance Calculator</title>
   
  <style>
/* NextSure Travel Insurance Calculator - Professional CSS */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --primary: #1e1b4b;
  --secondary: #10b981;
  --accent: #3b82f6;
  --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.15);
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Poppins", sans-serif;
  background: linear-gradient(135deg, rgba(5, 12, 3, 0.75), rgba(8, 10, 16, 0.7)), url(./images/travel2.jpg);
  background-size: 125%;
  background-position: center;
  background-attachment: fixed;
  color: #ffffff;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 2rem 1rem;
}

.card {
  width: 100%;
  max-width: 900px;
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  border-radius: 24px;
  padding: 3rem;
  box-shadow: var(--shadow-lg);
  border: 1px solid rgba(255, 255, 255, 0.5);
  margin: 2rem auto;
}

h2 {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 1.5rem;
  text-align: center;
  letter-spacing: -1px;
}

h3 {
  color: var(--primary);
  font-size: 1.3rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
  font-weight: 700;
}

.card > div:first-of-type {
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
  border-left: 4px solid var(--secondary);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  color: #334155;
  line-height: 1.8;
  font-size: 0.95rem;
}

label {
  display: block;
  text-align: left;
  font-weight: 600;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  color: var(--primary);
  font-size: 0.95rem;
}

input, select {
  width: 100%;
  padding: 0.9rem 1.2rem;
  border-radius: 12px;
  border: 2px solid #e2e8f0;
  font-size: 1rem;
  font-family: inherit;
  margin-bottom: 0.8rem;
  outline: none;
  background: #f8fafc;
  color: var(--primary);
  transition: all 0.3s ease;
}

input:focus, select:focus {
  border-color: var(--secondary);
  background: #ffffff;
  box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
  transform: translateY(-2px);
}

input::placeholder {
  color: #94a3b8;
}

button {
  width: 100%;
  padding: 1rem 2rem;
  border-radius: 50px;
  border: none;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: inherit;
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, var(--secondary), #059669);
  color: #ffffff;
  box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s ease, height 0.6s ease;
}

button:hover::before {
  width: 400px;
  height: 400px;
}

button:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
}

.result {
  display: none;
  margin-top: 2rem;
  font-size: 15px;
  color: var(--primary);
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
  padding: 2rem;
  border-radius: 16px;
  border: 2px solid var(--secondary);
  box-shadow: var(--shadow);
}

.age-display {
  font-size: 0.95rem;
  color: var(--secondary);
  margin-top: -0.5rem;
  margin-bottom: 1rem;
  font-weight: 600;
  text-align: left;
}

.flex {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.half {
  width: 100%;
}

.info {
  font-size: 13px;
  opacity: 0.95;
  color: #64748b;
  margin-top: 6px;
}

.breakdown {
  text-align: left;
  margin-top: 8px;
  line-height: 1.8;
  color: var(--primary);
}

.breakdown > div {
  padding: 0.5rem 0;
  font-size: 1rem;
}

.breakdown strong {
  font-weight: 700;
  color: var(--primary);
}

hr.sep {
  border: none;
  border-top: 2px solid #cbd5e1;
  margin: 1rem 0;
}

.small {
  font-size: 13px;
  opacity: 0.95;
  color: #64748b;
  font-style: italic;
}

.row {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
  margin-top: 1rem;
}

.col {
  flex: 1;
}

.text-box {
  background: var(--secondary);
  color: #fff;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  text-decoration: none;
  display: inline-block;
  padding: 12px 24px;
  width: auto;
  text-align: center;
  border-radius: 50px;
  margin-top: 20px;
  box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
}

.text-box:hover {
  background: #059669;
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
}

.text-box a {
  color: #fff;
  text-decoration: none;
}

.contact-details {
  background: linear-gradient(135deg, var(--primary), #1e293b);
  color: #ffffff;
  padding: 2rem;
  border-radius: 16px;
  margin-top: 2rem;
  line-height: 1.9;
  text-align: center;
}

.contact-details i {
  color: var(--secondary);
  margin-right: 0.5rem;
}

.contact-details a {
  color: var(--secondary);
  text-decoration: none;
  font-weight: 600;
  transition: color 0.3s ease;
}

.contact-details a:hover {
  color: #059669;
  text-decoration: underline;
}

.contact-details .mb-4 {
  margin-bottom: 1.5rem;
  opacity: 0.95;
}

p {
  text-align: center;
  color: rgba(255, 255, 255, 0.9);
  margin-top: 2rem;
  font-size: 0.95rem;
}

.grid {
  margin-bottom: 1rem;
}

.search {
  width: 100%;
}

/* Responsive Design */
@media (max-width: 768px) {
  body {
    padding: 1rem;
  }

  .card {
    width: 100%;
    padding: 2rem 1.5rem;
    margin: 1rem auto;
  }

  h2 {
    font-size: 1.5rem;
  }

  .flex {
    grid-template-columns: 1fr;
  }

  .row {
    grid-template-columns: 1fr;
  }

  .contact-details {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .card {
    padding: 1.5rem 1rem;
  }

  h2 {
    font-size: 1.3rem;
  }

  button {
    padding: 0.9rem 1.5rem;
    font-size: 1rem;
  }

  .card > div:first-of-type {
    padding: 1rem;
    font-size: 0.85rem;
  }
}
  </style>
</head>
<header>

</header>

<body>
  
  <div class="card">
        <h2>ðŸ§¾ NextSure â€” OMP Travel Insurance Calculator</h2>
        <div style="display: none;"><br>
    <br><br><br>
     <br>
    <br>
     <br> <br> <br>
<br><br>
</div>
    <div class="row">
      <div class="col">
        <label for="sub_type_id">Insurance Sub Type</label>
        <select id="sub_type_id">
          <option value="">Select Type</option>
          <option value="10">Business &amp; Holiday</option>
          <option value="13">Studies (Student)</option>
        </select>
      </div>

      <div class="search ">
      <label for="country">Destination Country</label>
      <input list="countryOptions" id="countrySearch" name="country" placeholder="Start typing country name..." required>
<datalist id="countryOptions">
      <option value="Ã…land Islands">Ã…land Islands</option>
                <option value="Albania">Albania</option>
                <option value="Algeria">Algeria</option>
                <option value="American Samoa">American Samoa</option>
                <option value="Afghanistan">Afghanistan</option>
                <option value="Ã…land Islands">Ã…land Islands</option>
                <option value="Albania">Albania</option>
                <option value="Algeria">Algeria</option>
                <option value="American Samoa">American Samoa</option>
                <option value="Andorra">Andorra</option>
                <option value="Angola">Angola</option>
                <option value="Anguilla">Anguilla</option>
                <option value="Antarctica">Antarctica</option>
                <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                <option value="Argentina">Argentina</option>
                <option value="Armenia">Armenia</option>
                <option value="Aruba">Aruba</option>
                <option value="Australia">Australia</option>
                <option value="Austria">Austria</option>
                <option value="Azerbaijan">Azerbaijan</option>
                <option value="Bahamas">Bahamas</option>
                <option value="Bahrain">Bahrain</option>
                <option value="Bangladesh">Bangladesh</option>
                <option value="Barbados">Barbados</option>
                <option value="Belarus">Belarus</option>
                <option value="Belgium">Belgium</option>
                <option value="Belize">Belize</option>
                <option value="Benin">Benin</option>
                <option value="Bermuda">Bermuda</option>
                <option value="Bhutan">Bhutan</option>
                <option value="Bolivia">Bolivia</option>
                <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                <option value="Botswana">Botswana</option>
                <option value="Bouvet Island">Bouvet Island</option>
                <option value="Brazil">Brazil</option>
                <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
                <option value="Brunei Darussalam">Brunei Darussalam</option>
                <option value="Bulgaria">Bulgaria</option>
                <option value="Burkina Faso">Burkina Faso</option>
                <option value="Burundi">Burundi</option>
                <option value="Cambodia">Cambodia</option>
                <option value="Cameroon">Cameroon</option>
                <option value="Canada">Canada</option>
                <option value="Cape Verde">Cape Verde</option>
                <option value="Cayman Islands">Cayman Islands</option>
                <option value="Central African Republic">Central African Republic</option>
                <option value="Chad">Chad</option>
                <option value="Chile">Chile</option>
                <option value="China">China</option>
                <option value="Christmas Island">Christmas Island</option>
                <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
                <option value="Colombia">Colombia</option>
                <option value="Comoros">Comoros</option>
                <option value="Congo">Congo</option>
                <option value="Congo, The Democratic Republic of The">Congo, The Democratic Republic of The</option>
                <option value="Cook Islands">Cook Islands</option>
                <option value="Costa Rica">Costa Rica</option>
                <option value="Cote D'ivoire">Cote D'ivoire</option>
                <option value="Croatia">Croatia</option>
                <option value="Cuba">Cuba</option>
                <option value="Cyprus">Cyprus</option>
                <option value="Czech Republic">Czech Republic</option>
                <option value="Denmark">Denmark</option>
                <option value="Djibouti">Djibouti</option>
                <option value="Dominica">Dominica</option>
                <option value="Dominican Republic">Dominican Republic</option>
                <option value="Ecuador">Ecuador</option>
                <option value="Egypt">Egypt</option>
                <option value="El Salvador">El Salvador</option>
                <option value="Equatorial Guinea">Equatorial Guinea</option>
                <option value="Eritrea">Eritrea</option>
                <option value="Estonia">Estonia</option>
                <option value="Ethiopia">Ethiopia</option>
                <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
                <option value="Faroe Islands">Faroe Islands</option>
                <option value="Fiji">Fiji</option>
                <option value="Finland">Finland</option>
                <option value="France">France</option>
                <option value="French Guiana">French Guiana</option>
                <option value="French Polynesia">French Polynesia</option>
                <option value="French Southern Territories">French Southern Territories</option>
                <option value="Gabon">Gabon</option>
                <option value="Gambia">Gambia</option>
                <option value="Georgia">Georgia</option>
                <option value="Germany">Germany</option>
                <option value="Ghana">Ghana</option>
                <option value="Gibraltar">Gibraltar</option>
                <option value="Greece">Greece</option>
                <option value="Greenland">Greenland</option>
                <option value="Grenada">Grenada</option>
                <option value="Guadeloupe">Guadeloupe</option>
                <option value="Guam">Guam</option>
                <option value="Guatemala">Guatemala</option>
                <option value="Guernsey">Guernsey</option>
                <option value="Guinea">Guinea</option>
                <option value="Guinea-bissau">Guinea-bissau</option>
                <option value="Guyana">Guyana</option>
                <option value="Haiti">Haiti</option>
                <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
                <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
                <option value="Honduras">Honduras</option>
                <option value="Hong Kong">Hong Kong</option>
                <option value="Hungary">Hungary</option>
                <option value="Iceland">Iceland</option>
                <option value="India">India</option>
                <option value="Indonesia">Indonesia</option>
                <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
                <option value="Iraq">Iraq</option>
                <option value="Ireland">Ireland</option>
                <option value="Isle of Man">Isle of Man</option>
                <option value="Israel">Israel</option>
                <option value="Italy">Italy</option>
                <option value="Jamaica">Jamaica</option>
                <option value="Japan">Japan</option>
                <option value="Jersey">Jersey</option>
                <option value="Jordan">Jordan</option>
                <option value="Kazakhstan">Kazakhstan</option>
                <option value="Kenya">Kenya</option>
                <option value="Kiribati">Kiribati</option>
                <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
                <option value="Korea, Republic of">Korea, Republic of</option>
                <option value="Kuwait">Kuwait</option>
                <option value="Kyrgyzstan">Kyrgyzstan</option>
                <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
                <option value="Latvia">Latvia</option>
                <option value="Lebanon">Lebanon</option>
                <option value="Lesotho">Lesotho</option>
                <option value="Liberia">Liberia</option>
                <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
                <option value="Liechtenstein">Liechtenstein</option>
                <option value="Lithuania">Lithuania</option>
                <option value="Luxembourg">Luxembourg</option>
                <option value="Macao">Macao</option>
                <option value="Macedonia, The Former Yugoslav Republic of">Macedonia, The Former Yugoslav Republic of</option>
                <option value="Madagascar">Madagascar</option>
                <option value="Malawi">Malawi</option>
                <option value="Malaysia">Malaysia</option>
                <option value="Maldives">Maldives</option>
                <option value="Mali">Mali</option>
                <option value="Malta">Malta</option>
                <option value="Marshall Islands">Marshall Islands</option>
                <option value="Martinique">Martinique</option>
                <option value="Mauritania">Mauritania</option>
                <option value="Mauritius">Mauritius</option>
                <option value="Mayotte">Mayotte</option>
                <option value="Mexico">Mexico</option>
                <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
                <option value="Moldova, Republic of">Moldova, Republic of</option>
                <option value="Monaco">Monaco</option>
                <option value="Mongolia">Mongolia</option>
                <option value="Montenegro">Montenegro</option>
                <option value="Montserrat">Montserrat</option>
                <option value="Morocco">Morocco</option>
                <option value="Mozambique">Mozambique</option>
                <option value="Myanmar">Myanmar</option>
                <option value="Namibia">Namibia</option>
                <option value="Nauru">Nauru</option>
                <option value="Nepal">Nepal</option>
                <option value="Netherlands">Netherlands</option>
                <option value="Netherlands Antilles">Netherlands Antilles</option>
                <option value="New Caledonia">New Caledonia</option>
                <option value="New Zealand">New Zealand</option>
                <option value="Nicaragua">Nicaragua</option>
                <option value="Niger">Niger</option>
                <option value="Nigeria">Nigeria</option>
                <option value="Niue">Niue</option>
                <option value="Norfolk Island">Norfolk Island</option>
                <option value="Northern Mariana Islands">Northern Mariana Islands</option>
                <option value="Norway">Norway</option>
                <option value="Oman">Oman</option>
                <option value="Pakistan">Pakistan</option>
                <option value="Palau">Palau</option>
                <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
                <option value="Panama">Panama</option>
                <option value="Papua New Guinea">Papua New Guinea</option>
                <option value="Paraguay">Paraguay</option>
                <option value="Peru">Peru</option>
                <option value="Philippines">Philippines</option>
                <option value="Pitcairn">Pitcairn</option>
                <option value="Poland">Poland</option>
                <option value="Portugal">Portugal</option>
                <option value="Puerto Rico">Puerto Rico</option>
                <option value="Qatar">Qatar</option>
                <option value="Reunion">Reunion</option>
                <option value="Romania">Romania</option>
                <option value="Russian Federation">Russian Federation</option>
                <option value="Rwanda">Rwanda</option>
                <option value="Saint Helena">Saint Helena</option>
                <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
                <option value="Saint Lucia">Saint Lucia</option>
                <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
                <option value="Saint Vincent and The Grenadines">Saint Vincent and The Grenadines</option>
                <option value="Samoa">Samoa</option>
                <option value="San Marino">San Marino</option>
                <option value="Sao Tome and Principe">Sao Tome and Principe</option>
                <option value="Saudi Arabia">Saudi Arabia</option>
                <option value="Senegal">Senegal</option>
                <option value="Serbia">Serbia</option>
                <option value="Seychelles">Seychelles</option>
                <option value="Sierra Leone">Sierra Leone</option>
                <option value="Singapore">Singapore</option>
                <option value="Slovakia">Slovakia</option>
                <option value="Slovenia">Slovenia</option>
                <option value="Solomon Islands">Solomon Islands</option>
                <option value="Somalia">Somalia</option>
                <option value="South Africa">South Africa</option>
                <option value="South Georgia and The South Sandwich Islands">South Georgia and The South Sandwich Islands</option>
                <option value="Spain">Spain</option>
                <option value="Sri Lanka">Sri Lanka</option>
                <option value="Sudan">Sudan</option>
                <option value="Suriname">Suriname</option>
                <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
                <option value="Swaziland">Swaziland</option>
                <option value="Sweden">Sweden</option>
                <option value="Switzerland">Switzerland</option>
                <option value="Syrian Arab Republic">Syrian Arab Republic</option>
                <option value="Taiwan">Taiwan</option>
                <option value="Tajikistan">Tajikistan</option>
                <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
                <option value="Thailand">Thailand</option>
                <option value="Timor-leste">Timor-leste</option>
                <option value="Togo">Togo</option>
                <option value="Tokelau">Tokelau</option>
                <option value="Tonga">Tonga</option>
                <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                <option value="Tunisia">Tunisia</option>
                <option value="Turkey">Turkey</option>
                <option value="Turkmenistan">Turkmenistan</option>
                <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
                <option value="Tuvalu">Tuvalu</option>
                <option value="Uganda">Uganda</option>
                <option value="Ukraine">Ukraine</option>
                <option value="United Arab Emirates">United Arab Emirates</option>
                <option value="United Kingdom">United Kingdom</option>
                <option value="United States">United States</option>
                <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
                <option value="Uruguay">Uruguay</option>
                <option value="Uzbekistan">Uzbekistan</option>
                <option value="Vanuatu">Vanuatu</option>
                <option value="Venezuela">Venezuela</option>
                <option value="Viet Nam">Viet Nam</option>
                <option value="Virgin Islands, British">Virgin Islands, British</option>
                <option value="Virgin Islands, U.S.">Virgin Islands, U.S.</option>
                <option value="Wallis and Futuna">Wallis and Futuna</option>
                <option value="Western Sahara">Western Sahara</option>
                <option value="Yemen">Yemen</option>
                <option value="Zambia">Zambia</option>
                <option value="Zimbabwe">Zimbabwe</option>
          <option value="Other">Other</option>

</datalist>
    </select>
</div>
      <div class="col">  
        <label for="country">Insurance Category</label>
        <select id="country">
          <option value="">Select Destination</option>
          <option value="WorldExclUSCA">World Excluding USA &amp; Canada (Schengen)</option>
          <option value="WorldInclUSCA">World Including USA &amp; Canada (Schengen)</option>
          <option value="WorldExclUSCA_NonSch">World Excluding USA &amp; Canada (Non-Schengen)</option>
          <option value="WorldInclUSCA_NonSch">World Including USA &amp; Canada (Non-Schengen)</option>
          
        </select>
      </div>
  </div>
    <label for="dob">Date of Birth</label>
    <input type="date" id="dob" onchange="calculateAge()" />
    <div class="age-display" id="ageDisplay">Your Age: â€”</div>


    <label for="contactNumber">Contact Number</label>
    <input type="tel" id="contactNumber" placeholder="Enter customer contact number" />
    </select>
    <div class="grid">
      <div>
        <label for="travelDate">Travel Date:</label>
        <input type="date" id="travelDate">
      </div>


    
    <label for="days">Travel Duration (days)</label>
    <input type="number" id="days" placeholder="Enter number of travel days" min="1"/>

    <div class="flex">
      <div class="half">
        <label for="adminPct">Special offer (%)</label>
        <input id="adminPct" type="number" placeholder="Only Special offer" min="0" step="0.1" value="Only admin use"/>
      </div>

    <br>
    <br>
      <div class="half">
        <label for="multiplier">Multiplier / Change</label>
        <input id="multiplier" type="number" placeholder="e.g. 1" min="0.01" step="0.01" value="1"/>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <button onclick="calculatePrice()">Calculate Price</button>
      </div>
      <div class="col">
        <button onclick="resetForm()" style="background:#00cb00">Reset</button>
      </div>
    </div>

    <div class="result" id="resultBox" aria-live="polite"></div>
    <div>
 
      
      <h3> 
      </h3>
       <h2>How to contact Nextsure</h2>
        <p class="mb-4">To know more about travel insurance and for any other information, reach out to our support team.</p>
        <div class="contact-details">
          
                <i class="contact-icon fas fa-phone"></i>
                Customer Support Hotline: <a href="tel:+8801851008300">+88 01851-008300</a>
        
          
                <i class="contact-icon fas fa-envelope"></i><br>
                E-mail: <a href="mailto:nextsure.xzy@.com">nextsure.xzy@.com</a>
        <br>
                <a href="#">Privacy Policy</a><br>
                <a href="#">Terms of Use</a><br>
                <a href="#">FAQ</a><br>

            
    </div>
  </div>
  <p>&copy; 2025 NextSure Insurance. All rights reserved.</p>
        </div>


  <script>
    /************************************************************************
     * Full rate tables (embedded from uploaded PDF)
     *
     * Structure: rates["<Plan>-<Region>-<Type>"][ageBand][durationKey] = netPremium
     *
     * Plan: A/B/C/D
     * Region: Schengen | NonSchengen
     * Type: BH (Business & Holiday) | ST (Study)
     *
     * Duration keys:
     * - BH uses day ranges: "1-14","15-21","22-28","29-35","36-47","48-60","61-75","76-90","91-120","121-147","148-180"
     * - ST uses months: "1month","6month","7month","8month","9month","10month","11month","12month"
     *
     * IMPORTANT: numbers taken from the PDF you uploaded. If any row needs correction,
     * tell me which plan/age/duration and I will fix it.
     ************************************************************************/

    const rates = {
      /* ---------- PLAN A â€” SCHENGEN â€” B&H (from sheet) ---------- */
      "A-Schengen-BH": {
        "0.5-40": {"1-14":1549,"15-21":1614,"22-28":1808,"29-35":2229,"36-47":2553,"48-60":3002,"61-75":3712,"76-90":4438,"91-120":7503,"121-147":9038,"148-180":12557},
        "41-50":  {"1-14":2324,"15-21":2479,"22-28":2767,"29-35":3341,"36-47":3830,"48-60":4537,"61-75":5600,"76-90":6639,"91-120":11330,"121-147":13586,"148-180":18741},
        "51-65":  {"1-14":3124,"15-21":3330,"22-28":3719,"29-35":4491,"36-47":5148,"48-60":6099,"61-75":7528,"76-90":8926},// note: sheet uses larger senior categories (kept minimal)
        "66-70":  {"1-14":17788,"15-21":18962,"22-28":21170,"29-35":25578,"36-47":29318,"48-60":34724,"61-75":42871,"76-90":50820},// note: sheet uses larger senior categories (kept minimal)
        "71-75":  {"1-14":35574,"15-21":37924,"22-28":42340,"29-35":51157,"36-47":58636,"48-60":69448,"61-75":85743,"76-90":101640},// note: sheet uses larger senior categories (kept minimal)
        "76-79":  {"1-14":50820}, // note: sheet uses larger senior categories (kept minimal)
        "80-85":  {"1-14":50820}// note: sheet uses larger senior categories (kept minimal)
      },

      /* ---------- PLAN A â€” NON-SCHENGEN â€” B&H ---------- */
      "A-NonSchengen-BH": {
        "0.5-40":{"1-14":1239,"15-21":1291,"22-28":1446,"29-35":1783,"36-47":2042,"48-60":2402,"61-75":2970,"76-90":3550,"91-120":6003,"121-147":7230,"148-180":10046},
        "41-50": {"1-14":1860,"15-21":1983,"22-28":2213,"29-35":2673,"36-47":3063,"48-60":3629,"61-75":4480,"76-90":5311},
        "51-65": {"1-14":2499,"15-21":2664,"22-28":2976,"29-35":3592,"36-47":4119,"48-60":4879,"61-75":6022,"76-90":7140},
        "66-70": {"1-14":8131,"15-21":8668,"22-28":9678,"29-35":11692,"36-47":13402,"48-60":15873,"61-75":19598,"76-90":23232},
        "71-75": {"1-14":14230,"15-21":15169,"22-28":16937,"29-35":20462,"36-47":23454,"48-60":27779,"61-75":34297,"76-90":40657},
        "76-79": {"1-14":28460,"15-21":30338,"22-28":33873,"29-35":40924,"36-47":46908,"48-60":55558,"61-75":68592,"76-90":81312},
        "80-85": {"1-14":40457}
      },

      /* ---------- PLAN B â€” SCHENGEN â€” B&H ---------- */
      "B-Schengen-BH": {
        "0.5-40":{"1-14":2837,"15-21":3013,"22-28":3406,"29-35":4090,"36-47":4877,"48-60":7856,"61-75":11296,"76-90":13593,"91-120":19150,"121-147":25428,"148-180":33674},
        "41-50":{"1-14":5250,"15-21":5623,"22-28":6516,"29-35":7687,"36-47":9372,"48-60":15228,"61-75":22022,"76-90":26473},
        "51-65":{"1-14":6664,"15-21":7140,"22-28":8272,"29-35":9760,"36-47":11900,"48-60":19338,"61-75":27966,"76-90":33618},
        "66-70":{"1-14":21686,"15-21":23233,"22-28":26914,"29-35":31754,"36-47":38722,"48-60":62923,"61-75":90994,"76-90":109390},
        "71-75":{"1-14":37960,"15-21":40659,"22-28":47100,"29-35":55570,"36-47":67763,"48-60":110117,"61-75":159240,"76-90":191431},
        "76-79":{"1-14":75899,"15-21":81318,"22-28":94200,"29-35":111139,"36-47":135528,"48-60":220233,"61-75":318480,"76-90":382863},
        "80-85":{"1-14":108427}
      },

      /* ---------- PLAN B â€” NON-SCHENGEN â€” B&H ---------- */
      "B-NonSchengen-BH": {
        "0.5-40":{"1-14":2269,"15-21":2411,"22-28":2724,"29-35":3271,"36-47":3901,"48-60":6284,"61-75":9037,"76-90":10874,"91-120":15320,"121-147":20341,"148-180":26939},
        "41-50":{"1-14":4200,"15-21":4499,"22-28":5212,"29-35":6149,"36-47":7497,"48-60":12182,"61-75":17910,"76-90":21178},
        "51-65":{"1-14":5331,"15-21":5712,"22-28":6618,"29-35":7808,"36-47":9520,"48-60":15470,"61-75":22371,"76-90":26894},
        "66-70":{"1-14":17349,"15-21":18587,"22-28":21531,"29-35":25402,"36-47":30977,"48-60":50339,"61-75":72796,"76-90":87511},
        "71-75":{"1-14":30360,"15-21":32526,"22-28":37679,"29-35":44454,"36-47":54210,"48-60":88093,"61-75":127392,"76-90":153146},
        "76-79":{"1-14":60720,"15-21":65052,"22-28":75358,"29-35":88910,"36-47":108420,"48-60":176187,"61-75":254784,"76-90":306291},
        "80-85":{"1-14":86742}
      },

      /* ---------- PLAN C â€” NON-SCHENGEN â€” STUDY (1-12 months) ---------- */
      "C-NonSchengen-ST": {
        "0.5-40":{"6month":16049,"12month":32099},
        "41-59":{"6month":12841,"12month":25682}
      },

      /* ---------- PLAN D â€” NON-SCHENGEN â€” STUDY (1-12 months) ---------- */
      "D-NonSchengen-ST": {
        "0.5-40":{"6month":12841,"12month":25682},
        "41-59":{"6month":19389,"12month":38778}
      },

      /* ---------- PLAN C â€” SCHENGEN â€” STUDY (mirrored) ---------- */
      "C-Schengen-ST": {
        "0.5-40":{"6month":16049,"12month":32099},
        "41-59":{"6month":12841,"12month":25682}
      },

      /* ---------- PLAN D â€” SCHENGEN â€” STUDY (mirrored) ---------- */
      "D-Schengen-ST": {
        "0.5-40":{"6month":12841,"12month":25682},
        "41-59":{"6month":19389,"7month":22621,"8month":25852,"9month":29084,"10month":32315,"11month":35547,"12month":38778}
      }
    };

    // ---------- helpers ----------
    let calculatedAge = 0;
    function calculateAge(){
      const dob = document.getElementById("dob").value;
      if(!dob){
        calculatedAge = 0;
        document.getElementById("ageDisplay").textContent = `Your Age: â€”`;
        return;
      }
      const bd = new Date(dob);
      const t = new Date();
      let age = t.getFullYear() - bd.getFullYear();
      const m = t.getMonth() - bd.getMonth();
      if (m < 0 || (m === 0 && t.getDate() < bd.getDate())) age--;
      calculatedAge = age;
      document.getElementById("ageDisplay").textContent = `Your Age: ${age} years`;
    }

    function isSchengenCountry(name){
      const sch = ["Austria","Belgium","Bulgaria","Croatia","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Italy","Latvia","Liechtenstein","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerlan"];
      return sch.includes(name);
    }

    function ageBandFromAge(age, isStudy=false) { if(isStudy){return (age <= 40) ? "0.5-40" : "41-59" ;} 
    else {
        if (age <= 40) return "0.5-40";
        if (age <= 50) return "41-50";
        if (age <= 65) return "51-65";
        if (age <= 70) return "66-70";
        if (age <= 75) return "71-75";
        if (age <= 79) return "76-79";
        return "80-85";
      }
    }

    function durationKeyDays(days){
      if(days <= 14) return "1-14";
      if(days <= 21) return "15-21";
      if(days <= 28) return "22-28";
      if(days <= 35) return "29-35";
      if(days <= 47) return "36-47";
      if(days <= 60) return "48-60";
      if(days <= 75) return "61-75";
      if(days <= 90) return "76-90";
      if(days <= 120) return "91-120";
      if(days <= 147) return "121-147";
      if(days <= 180) return "148-180";
      return null;
    }

    function durationKeyMonths(days){
      
      if(days <= 1*180) return "6month";
      if(days <= 181*365)return "12month";
    }


    function durationBandForDays(days){
      if (days <= 14) return "1-14";
      if (days <= 21) return "15-21";
      if (days <= 28) return "22-28";
      if (days <= 35) return "29-35";
      if (days <= 47) return "36-47";
      if (days <= 60) return "48-60";
      if (days <= 75) return "61-75";
      if (days <= 90) return "76-90";
      if (days <= 120) return "91-120";
      if (days <= 147) return "121-147";
      if (days <= 180) return "148-180";
      return null;
    }

    function monthBandFromDays(days){
     
      if (days <= 1*180) return "6month";
     
      if (days <= 181*365) return "12month";
     
    }

    // ---------- main calculation ----------
    function calculatePrice(){
      const daysVal = document.getElementById("days").value;
      const days = daysVal ? parseInt(daysVal,10) : 0;
      const country = document.getElementById("country").value;
      const subType = document.getElementById("sub_type_id").value;
      const adminPct = parseFloat(document.getElementById("adminPct").value) || 0;
      const multiplier = parseFloat(document.getElementById("multiplier").value) || 1;
      const resultBox = document.getElementById("resultBox");

      if (!calculatedAge || !country || !days || !subType){
        alert("Please fill Date of Birth, Destination, Duration and Type.");
        return;
      }

      // Determine plan letter and region
      let plan = null;
      let region = null;
      let typeKey = null;

      // Map subtype selection
      if (subType === "10"){ // Business & Holiday
        typeKey = "BH";
        if (country === "WorldInclUSCA" || country === "United States" || country === "Canada" || country === "WorldInclUSCA_NonSch") plan = "B";
        else plan = "A";
        if (country === "WorldExclUSCA" || country === "WorldInclUSCA") region = "Schengen";
        else if (country === "WorldExclUSCA_NonSch" || country === "WorldInclUSCA_NonSch") region = "NonSchengen";
        else region = isSchengenCountry(country) ? "Schengen" : "NonSchengen";
      } else if (subType === "13"){ // Study
        typeKey = "ST";
        if (country === "WorldInclUSCA" || country === "United States" || country === "Canada" || country === "WorldInclUSCA_NonSch") plan = "D";
        else plan = "C";
        if (country === "WorldExclUSCA" || country === "WorldInclUSCA") region = "Schengen";
        else if (country === "WorldExclUSCA_NonSch" || country === "WorldInclUSCA_NonSch") region = "NonSchengen";
        else region = isSchengenCountry(country) ? "Schengen" : "NonSchengen";
      } else {
        resultBox.style.display = "block";
        resultBox.innerHTML = "Unknown type selected.";
        return;
      }

      const planKey = `${plan}-${region}-${typeKey}`;
      const isStudy = (typeKey === "ST");
      const ageBand = ageBandFromAge(calculatedAge, isStudy);

      const planRates = rates[planKey];
      if (!planRates){
        resultBox.style.display = "block";
        resultBox.innerHTML = `No rate table found for selection (${planKey}).`;
        return;
      }

      let netPremium = null;
      if (!isStudy){
        const durationBand = durationBandForDays(days);
        if (!durationBand){
          resultBox.style.display = "block";
          resultBox.innerHTML = `Duration ${days} days is outside supported day ranges (use <=180 days for BH or choose Study for month-based coverage).`;
          return;
        }
        const ageRow = planRates[ageBand] || planRates[Object.keys(planRates)[0]];
        if (ageRow && (ageRow[durationBand] !== undefined)){
          netPremium = ageRow[durationBand];
        } else {
          // try fallback search for any matching duration across rows
          for (let k of Object.keys(planRates)){
            if (planRates[k] && planRates[k][durationBand] !== undefined){
              netPremium = planRates[k][durationBand];
              break;
            }
          }
        }
      } else {
        const monthBand = monthBandFromDays(days);
        const ageRow = planRates[ageBand] || planRates[Object.keys(planRates)[0]];
        if (ageRow && ageRow[monthBand] !== undefined){
          netPremium = ageRow[monthBand];
        } else {
          for (let k of Object.keys(planRates)){
            if (planRates[k] && planRates[k][monthBand] !== undefined){
              netPremium = planRates[k][monthBand];
              break;
            }
          }
        }
      }

      if (netPremium === null || netPremium === undefined){
        resultBox.style.display = "block";
        resultBox.innerHTML = `No rate available for Plan ${plan}, Region ${region}, Age band ${ageBand} for the selected duration.`;
        return;
      }

      // Calculation flow: Net -> VAT (15%) -> Gross -> Admin -> Final
      const vatRate = 0.15;
      const vatAmount = round2(netPremium * vatRate);
      const grossPremium = round2(netPremium + vatAmount);
      const adminFee = round2(netPremium * (adminPct / 100));
      const beforeMultiplier = round2(grossPremium - adminFee);
      const finalPayable = round2(beforeMultiplier * multiplier);

      // Display with lettered steps A-E
      resultBox.style.display = "block";
      resultBox.innerHTML = `
        <div class="breakdown">
          <div><strong>Plan:</strong> ${plan} â€” ${region} â€” ${isStudy ? "Study (Student)" : "Business & Holiday"}</div>
          <div><strong>Age:</strong> ${calculatedAge} yrs â†’ Age Band: ${ageBand}</div>
          <div><strong>Duration:</strong> ${days} days ${isStudy ? `(month band: ${monthBandFromDays(days)})` : `(day band: ${durationBandForDays(days)})`}</div>
          <hr class="sep">
          <div><strong>.</strong> Net Premium: à§³ ${numberWithCommas(netPremium)}</div>
          <div><strong>.</strong> VAT (15%): à§³ ${numberWithCommas(vatAmount)}</div>
          <div><strong>.</strong> Gross Premium (Net + VAT): à§³ ${numberWithCommas(grossPremium)}</div>
          <div><strong>.</strong> Special offer (${adminPct}% of Gross): à§³ ${numberWithCommas(adminFee)}</div>
          <div><strong>.</strong> Final Payable (after Multiplier ${multiplier}): à§³ ${numberWithCommas(finalPayable)}</div>
          <hr class="sep">
          <div class="small">Notes: Net & VAT values come from Nextsure rate chart. VAT is applied at 15%.</div>
        </div>
        <div class="text-box" id="text-box">
      <a href="http://wa.me/8801851008300"> Confirm </a> </div>
  `;
    }

    function round2(v){ return Math.round((v + Number.EPSILON) * 100) / 100; }
    function numberWithCommas(x){ return (typeof x === "number") ? x.toLocaleString(undefined, {minimumFractionDigits: (x%1?2:0), maximumFractionDigits:2}) : x; }

    function resetForm(){
      document.getElementById("sub_type_id").value = "";
      document.getElementById("country").value = "";
      document.getElementById("dob").value = "";
      document.getElementById("days").value = "";
      document.getElementById("adminPct").value = "0";
      document.getElementById("multiplier").value = "1";
      document.getElementById("ageDisplay").textContent = "Your Age: â€”";
      document.getElementById("resultBox").style.display = "none";
      document.getElementById("resultBox").innerHTML = "";
      calculatedAge = 0;
    }
  </script>
  
  
</body>

</html>
